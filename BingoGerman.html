<!DOCTYPE html>
<html lang="de">
<!-- 
    Âæ∑ËØ≠ÂçïËØçÂÆæÊûúÊ∏∏Êàè
    ‰ΩúËÄÖÔºö[Katanad]
    ÁâàÊú¨Ôºö1.0
    ÊèèËø∞Ôºö‰∏Ä‰∏™Â∏ÆÂä©Âæ∑ËØ≠ÂàùÂ≠¶ËÄÖÂ≠¶‰π†Âü∫Á°ÄËØçÊ±áÁöÑ‰∫íÂä®Ê∏∏Êàè
    ÁâπÁÇπÔºö
    - ÈöèÊú∫ÁîüÊàêBingoÂç°Áâá
    - Âæ∑ËØ≠ÂçïËØçÂèëÈü≥ÂäüËÉΩ
    - ÂìçÂ∫îÂºèËÆæËÆ°
    - ËØ≠Èü≥ÂêàÊàê
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Deutsches Wort-Bingo | Âæ∑ËØ≠ÂçïËØçÂÆæÊûúÊ∏∏Êàè</title>
    <style>
        /* ÂÖ®Â±ÄÊ†∑ÂºèÈáçÁΩÆ */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        /* È°µÈù¢‰∏ª‰ΩìÊ†∑Âºè */
        body {
            /* Ê∏êÂèòËÉåÊôØËâ≤ */
            background: linear-gradient(135deg, #6ecbf5, #ffb6c1);
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #2c3e50;
        }
        
        /* È°µÈù¢Â§¥ÈÉ®Ê†∑Âºè */
        header {
            text-align: center;
            margin: 20px 0;
            width: 100%;
            max-width: 800px;
        }
        
        /* Ê†áÈ¢òÊ†∑Âºè */
        h1 {
            /* Ê∏êÂèòÊñáÂ≠óÊïàÊûú */
            color: #e91e63;
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
            background: linear-gradient(45deg, #2196F3, #E91E63);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            color: #2196f3;
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: 500;
        }
        
        .container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            padding: 30px;
            width: 100%;
            max-width: 900px;
            margin: 20px 0;
        }
        
        .game-info {
            background: #e3f2fd;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border-left: 5px solid #2196f3;
        }
        
        .game-info h2 {
            color: #0d47a1;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            justify-content: space-between;
        }
        
        .game-info h2 i {
            font-size: 1.5rem;
        }
        
        .game-info p {
            line-height: 1.6;
            font-size: 1.1rem;
            color: #333;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .bingo-card {
            background: linear-gradient(145deg, #bbdefb, #90caf9);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #1e88e5;
        }
        
        .card-title {
            text-align: center;
            color: #0d47a1;
            margin: 0 0 25px 0;
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .bingo-row {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin: 15px 0;
        }
        
        /* BingoÂç°ÁâáÂçïÂÖÉÊ†ºÊ†∑Âºè */
        .bingo-cell {
            width: 140px;
            height: 140px;
            background: white;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            text-align: center;
            color: #1565c0;
            cursor: pointer;
            /* Èò¥ÂΩ±ÂíåËøáÊ∏°ÊïàÊûú */
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
            transition: all 0.3s ease;
            padding: 15px;
            border: 3px solid #64b5f6;
            position: relative;
        }
        
        .bingo-cell:hover {
            transform: translateY(-7px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            background: #f0f8ff;
        }
        
        .bingo-cell.marked {
            background: linear-gradient(135deg, #ffeb3b, #ffc107);
            color: #e65100;
            transform: scale(0.95);
            border-color: #ff9800;
            position: relative;
            overflow: hidden;
        }
        
        .bingo-cell.marked::after {
            content: "‚úì";
            position: absolute;
            font-size: 4rem;
            color: rgba(0, 0, 0, 0.15);
            font-weight: bold;
            z-index: 1;
        }
        
        .control-panel {
            background: #e8f5e9;
            border-radius: 15px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
            border: 3px solid #4caf50;
        }
        
        .current-word-container {
            width: 100%;
            text-align: center;
        }
        
        .current-word-label {
            font-size: 1.2rem;
            color: #388e3c;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .current-word {
            font-size: 2.5rem;
            font-weight: bold;
            color: #d32f2f;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 15px 30px;
            background: white;
            border-radius: 15px;
            width: 100%;
            box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.1);
            border: 3px solid #f44336;
            /* Ê∑ªÂä†ÈÄèÊòéÊïàÊûúÂíåËøáÊ∏°Âä®Áîª */
            opacity: 0;
            transition: opacity 0.3s ease;
            cursor: help;  /* Ê∑ªÂä†Â∏ÆÂä©ÂÖâÊ†áÊèêÁ§∫ */
            position: relative;  /* ‰∏∫ÊèêÁ§∫ÊñáÊú¨ÂÆö‰Ωç */
        }
        
        .current-word:hover {
            opacity: 1;
        }
        
        /* Ê∑ªÂä†ÊèêÁ§∫ÊñáÊú¨ */
        .current-word::after {
            content: "Hover to reveal";
            position: absolute;
            font-size: 1rem;
            color: #666;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .current-word:hover::after {
            opacity: 0;
        }
        
        /* ÂΩìÊ≤°ÊúâÂçïËØçÊó∂ÔºàÊ∏∏ÊàèÂºÄÂßãÂâçÔºâ‰øùÊåÅÂèØËßÅ */
        .current-word:not([data-word]) {
            opacity: 1;
            font-size: 1.2rem;
            color: #666;
        }
        
        .current-word:not([data-word])::after {
            display: none;
        }
        
        .buttons {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
            width: 100%;
        }
        
        button {
            padding: 18px 32px;
            font-size: 1.3rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 250px;
            justify-content: center;
        }
        
        .draw-btn {
            background: linear-gradient(to right, #4caf50, #8bc34a);
            color: white;
        }
        
        .new-card-btn {
            background: linear-gradient(to right, #2196f3, #03a9f4);
            color: white;
        }
        
        button:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }
        
        button:active {
            transform: translateY(2px);
        }
        
        .win-message {
            text-align: center;
            font-size: 3rem;
            color: #e91e63;
            font-weight: bold;
            margin: 20px 0;
            animation: pulse 1.5s infinite;
            display: none;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            width: 100%;
            border: 4px dashed #e91e63;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.9; }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .instructions {
            background: #fffde7;
            border-radius: 15px;
            padding: 25px;
            margin-top: 25px;
            border: 3px solid #ffd600;
        }
        
        .instructions h3 {
            color: #f57f17;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.8rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .instructions-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
        }
        
        .rules {
            flex: 1;
            min-width: 300px;
        }
        
        .rules ol {
            padding-left: 25px;
        }
        
        .rules li {
            margin-bottom: 15px;
            line-height: 1.6;
            font-size: 1.1rem;
            padding-left: 10px;
        }
        
        .rules li strong {
            color: #e91e63;
        }
        
        .deployment {
            flex: 1;
            min-width: 300px;
        }
        
        .deployment h4 {
            color: #2196f3;
            margin: 20px 0 15px 0;
            font-size: 1.4rem;
        }
        
        .deployment-steps {
            background: #f5f5f5;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
        }
        
        .deployment-steps p {
            margin: 10px 0;
            line-height: 1.6;
        }
        
        .word-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px dashed #bbdefb;
        }
        
        .word-tag {
            background: #e1bee7;
            padding: 8px 16px;
            border-radius: 30px;
            font-size: 1.1rem;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            color: #5d5d5d;
            font-size: 1rem;
            padding: 20px;
            width: 100%;
            max-width: 800px;
        }
        
        /* ÂìçÂ∫îÂºèËÆæËÆ° */
        @media (max-width: 768px) {
            /* Âπ≥ÊùøËÆæÂ§áÊ†∑Âºè */
            .bingo-cell {
                width: 120px;
                height: 120px;
                font-size: 1.2rem;
            }
            
            .current-word {
                font-size: 2rem;
            }
            
            button {
                padding: 15px 25px;
                font-size: 1.1rem;
                min-width: 200px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.2rem;
            }
        }
        
        @media (max-width: 480px) {
            /* ÊâãÊú∫ËÆæÂ§áÊ†∑Âºè */
            .bingo-cell {
                width: 100px;
                height: 100px;
                font-size: 1rem;
            }
            
            .current-word {
                font-size: 1.6rem;
                min-height: 60px;
            }
            
            button {
                padding: 14px 20px;
                font-size: 1rem;
                min-width: 100%;
            }
            
            .buttons {
                gap: 15px;
            }
            
            .win-message {
                font-size: 2rem;
            }
        }

        /* Ê∑ªÂä†ÈΩøËΩÆÊåâÈíÆÊ†∑Âºè */
        .settings-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            font-size: 1.2rem;
            color: #0d47a1;
            transition: transform 0.3s ease;
            min-width: auto;
            box-shadow: none;
        }

        .settings-btn:hover {
            transform: rotate(30deg);
        }

        /* Ê∑ªÂä†Ê®°ÊÄÅÊ°ÜÊ†∑Âºè */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.3);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 1.5rem;
            cursor: pointer;
            color: #666;
            background: none;
            border: none;
            padding: 5px;
            min-width: auto;
            box-shadow: none;
        }

        .close-modal:hover {
            color: #e91e63;
            transform: none;
        }
    </style>
</head>
<body>
    <!-- È°µÈù¢Â§¥ÈÉ® -->
    <header>
        <h1>üé≤ Deutsches Wort-Bingo üé≤</h1>
        <p class="subtitle">Spielend Deutsch lernen f√ºr Anf√§nger!</p>
    </header>
    
    <!-- Ê∏∏Êàè‰∏ªÂÆπÂô® -->
    <div class="container">
        <!-- Ê∏∏ÊàèËØ¥ÊòéÂå∫Âüü -->
        <div class="game-info">
            <h2>
                <span><i>üéØ</i> Spielregeln</span>
                <button class="settings-btn" id="settings-btn">‚öôÔ∏è</button>
            </h2>
            <p>H√∂re auf das Wort, das vorgelesen wird. Wenn es auf deiner Karte steht, klicke es an. Wenn du alle f√ºnf W√∂rter in einer Reihe markiert hast, rufst du "Bingo!" und gewinnst! Perfekt f√ºr Deutsch-Anf√§nger und Kinder.</p>
        </div>
        
        <!-- Ê∏∏ÊàèÂå∫Âüü -->
        <div class="game-area">
            <!-- BingoÂç°Áâá -->
            <div class="bingo-card">
                <h2 class="card-title">Deine Bingo-Karte</h2>
                <div class="bingo-row" id="bingo-row">
                    <!-- BingoÂçïÂÖÉÊ†ºÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
            
            <!-- ÊéßÂà∂Èù¢Êùø -->
            <div class="control-panel">
                <!-- ÂΩìÂâçÂçïËØçÊòæÁ§∫Âå∫Âüü -->
                <div class="current-word-container">
                    <div class="current-word-label">Aktuelles Wort:</div>
                    <div class="current-word" id="current-word">
                        Dr√ºcke "Wort ziehen" um zu beginnen
                    </div>
                </div>
                <!-- ÊåâÈíÆÂå∫Âüü -->
                <div class="buttons">
                    <button class="draw-btn" id="draw-btn">
                        <i>üîä</i> Wort ziehen
                    </button>
                    <button class="new-card-btn" id="new-card-btn">
                        <i>üîÑ</i> Neue Karte
                    </button>
                </div>
            </div>
            
            <!-- ËÉúÂà©Ê∂àÊÅØ -->
            <div class="win-message" id="win-message">
                üéâ BINGO! Du hast gewonnen! üéâ
            </div>
        </div>
        
        <!-- Â∞ÜinstructionsÈÉ®ÂàÜÁßªÂä®Âà∞Ê®°ÊÄÅÊ°Ü‰∏≠ -->
        <div class="modal" id="instructions-modal">
            <div class="modal-content">
                <button class="close-modal" id="close-modal">√ó</button>
                <h3><i>‚ÑπÔ∏è</i> Spielanleitung & Bereitstellung</h3>
                <div class="instructions-content">
                    <div class="rules">
                        <ol>
                            <li><strong>Klicke auf Wort ziehen</strong> - Das System spricht ein deutsches Wort aus</li>
                            <li><strong>Finde das Wort</strong> - Wenn das Wort auf deiner Karte steht, klicke es an</li>
                            <li><strong>Markiere die W√∂rter</strong> - Markierte W√∂rter werden gelb hervorgehoben</li>
                            <li><strong>Gewinne!</strong> - Wenn du alle f√ºnf W√∂rter markiert hast, gewinnst du!</li>
                            <li><strong>Neues Spiel</strong> - Klicke auf Neue Karte f√ºr eine neue Runde</li>
                        </ol>
                    </div>
                    
                    <div class="deployment">
                        <h4>So kannst du das Spiel bereitstellen</h4>
                        <div class="deployment-steps">
                            <p><strong>1. Lokale Ausf√ºhrung</strong><br>Speichere diese Seite als HTML-Datei und √∂ffne sie in deinem Browser</p>
                            <p><strong>2. Online bereitstellen</strong></p>
                            <p><strong>a)</strong> Erstelle ein GitHub-Konto (kostenlos)</p>
                            <p><strong>b)</strong> Lade den Code in ein neues Repository hoch</p>
                            <p><strong>c)</strong> Gehe zu vercel.com und verbinde dein GitHub-Kontop</p>
                            <p><strong>d)</strong> W√§hle das Repository und klicke auf Deployp</p>
                            <p><strong>e)</strong> Deine App ist live auf einer .vercel.app-URL!</p>
                        </div>
                        <div class="contact-info" style="margin-top: 20px; padding: 15px; background: #e3f2fd; border-radius: 10px; border-left: 4px solid #2196f3;">
                            <h4 style="color: #0d47a1; margin-bottom: 10px;">Kontakt</h4>
                            <p style="margin: 5px 0;"><strong>üìß E-Mail:</strong> <a href="mailto:monkeydtree@126.com" style="color: #2196f3; text-decoration: none;">monkeydtree@126.com</a></p>
                            <p style="margin: 5px 0;"><strong>üí¨ WeChat:</strong> monkeydtree</p>
                        </div>
                    </div>
                </div>
                
                <div class="word-list">
                    <span class="word-tag">Hund</span>
                    <span class="word-tag">Katze</span>
                    <span class="word-tag">Haus</span>
                    <span class="word-tag">Schule</span>
                    <span class="word-tag">Buch</span>
                    <span class="word-tag">Wasser</span>
                    <span class="word-tag">Mutter</span>
                    <span class="word-tag">Vater</span>
                    <span class="word-tag">Apfel</span>
                    <span class="word-tag">Blume</span>
                    <span class="word-tag">Ball</span>
                    <span class="word-tag">Baum</span>
                    <span class="word-tag">Auto</span>
                    <span class="word-tag">Kind</span>
                    <span class="word-tag">Tisch</span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- È°µËÑö -->
    <footer>
        <p>Deutsches Wort-Bingo Spiel | Erstellt f√ºr Deutsch-Anf√§nger | 2023</p>
    </footer>

    <script>
        /**
         * Ê∏∏ÊàèÊ†∏ÂøÉÈÄªËæë
         * ÂåÖÂê´ÔºöÂçïËØçÂ∫ì„ÄÅÊ∏∏ÊàèÁä∂ÊÄÅÁÆ°ÁêÜ„ÄÅÁî®Êà∑‰∫§‰∫íÂ§ÑÁêÜ„ÄÅËØ≠Èü≥ÂêàÊàêÁ≠âÂäüËÉΩ
         */
        
        // A1Á∫ßÂà´Âæ∑ËØ≠ËØçÊ±áÂ∫ì
        const germanWords = [
            "Hund", "Katze", "Haus", "Schule", "Buch",
            "Wasser", "Mutter", "Vater", "Apfel", "Blume",
            "Ball", "Baum", "Auto", "Kind", "Tisch",
            "Stuhl", "Fenster", "T√ºr", "Brot", "Milch",
            "Sonne", "Mond", "Stern", "Himmel", "Erde",
            "Freund", "M√§dchen", "Junge", "Frau", "Mann",
            "Farbe", "Gr√ºn", "Blau", "Rot", "Gelb",
            "Zahlen", "Eins", "Zwei", "Drei", "Vier",
            "F√ºnf", "Essen", "Trinken", "Spielen", "Lernen"
        ];
        
        // DOMÂÖÉÁ¥†ÂºïÁî®
        const bingoRow = document.getElementById('bingo-row');
        const currentWordEl = document.getElementById('current-word');
        const drawBtn = document.getElementById('draw-btn');
        const newCardBtn = document.getElementById('new-card-btn');
        const winMessage = document.getElementById('win-message');
        
        // Ê∏∏ÊàèÁä∂ÊÄÅÂèòÈáè
        let selectedWords = [];    // ÂΩìÂâçÂç°Áâá‰∏äÁöÑÂçïËØç
        let additionalWords = [];  // È¢ùÂ§ñÁöÑÂçïËØçÊ±†
        let drawnWords = [];       // Â∑≤ÁªèÊäΩÂèñÁöÑÂçïËØç
        let gameActive = true;     // Ê∏∏ÊàèÊòØÂê¶ËøõË°å‰∏≠
        const ADDITIONAL_WORDS_COUNT = 10;  // ÊØèËΩÆÈ¢ùÂ§ñÂçïËØçÊï∞Èáè
        
        // ËØ≠Èü≥ÂêàÊàêËÆæÁΩÆ
        const synth = window.speechSynthesis;
        let voices = [];
        
        /**
         * ÂàùÂßãÂåñÊ∏∏Êàè
         * ÈáçÁΩÆÊ∏∏ÊàèÁä∂ÊÄÅÂπ∂ÁîüÊàêÊñ∞ÁöÑBingoÂç°Áâá
         */
        function initGame() {
            console.log('Initializing game...');
            generateBingoCard();
            generateAdditionalWords();
            drawnWords = [];
            currentWordEl.textContent = "Dr√ºcke 'Wort ziehen' um zu beginnen";
            currentWordEl.removeAttribute('data-word');  // ÁßªÈô§data-wordÂ±ûÊÄß
            winMessage.style.display = "none";
            gameActive = true;
        }
        
        /**
         * ÁîüÊàêÊñ∞ÁöÑBingoÂç°Áâá
         * ÈöèÊú∫ÈÄâÊã©5‰∏™ÂçïËØçÂπ∂ÂàõÂª∫ÂØπÂ∫îÁöÑÂçïÂÖÉÊ†º
         */
        function generateBingoCard() {
            console.log('Generating bingo card...');
            bingoRow.innerHTML = '';
            selectedWords = [];
            
            // ÈöèÊú∫ÈÄâÊã©5‰∏™‰∏çÈáçÂ§çÁöÑÂçïËØç
            const shuffled = [...germanWords].sort(() => 0.5 - Math.random());
            selectedWords = shuffled.slice(0, 5);
            console.log('Selected words:', selectedWords);
            
            // ‰∏∫ÊØè‰∏™ÂçïËØçÂàõÂª∫ÂçïÂÖÉÊ†º
            selectedWords.forEach(word => {
                const cell = document.createElement('div');
                cell.className = 'bingo-cell';
                cell.textContent = word;
                cell.addEventListener('click', () => markCell(cell, word));
                bingoRow.appendChild(cell);
            });
        }
        
        /**
         * ÁîüÊàêÈ¢ùÂ§ñÁöÑÂçïËØçÊ±†
         * ‰ªéËØçÂ∫ì‰∏≠ÈöèÊú∫ÈÄâÊã©ÊåáÂÆöÊï∞ÈáèÁöÑÈ¢ùÂ§ñÂçïËØç
         */
        function generateAdditionalWords() {
            console.log('Generating additional words...');
            // Ëé∑ÂèñÊú™Ë¢´ÈÄâ‰∏≠ÁöÑÂçïËØç
            const availableWords = germanWords.filter(word => !selectedWords.includes(word));
            // ÈöèÊú∫Êâì‰π±Âπ∂ÈÄâÊã©ÊåáÂÆöÊï∞ÈáèÁöÑÂçïËØç
            const shuffled = [...availableWords].sort(() => 0.5 - Math.random());
            additionalWords = shuffled.slice(0, ADDITIONAL_WORDS_COUNT);
            console.log('Additional words:', additionalWords);
        }
        
        /**
         * Ê†áËÆ∞ÂçïÂÖÉÊ†º
         * @param {HTMLElement} cell - Ë¢´ÁÇπÂáªÁöÑÂçïÂÖÉÊ†ºÂÖÉÁ¥†
         * @param {string} word - ÂçïÂÖÉÊ†º‰∏≠ÁöÑÂçïËØç
         */
        function markCell(cell, word) {
            if (!gameActive) return;
            
            console.log('Marking cell:', word);
            // Âè™ÊúâÂΩìÂçïËØçË¢´ÊäΩÂèñËøáÊâçËÉΩÊ†áËÆ∞
            if (drawnWords.includes(word)) {
                cell.classList.add('marked');
                checkWin();
            }
        }
        
        /**
         * ÊäΩÂèñÊñ∞ÂçïËØç
         * ‰ªéÂΩìÂâçËΩÆÊ¨°ÁöÑÂçïËØçÊ±†ÔºàÂç°ÁâáÂçïËØç+È¢ùÂ§ñÂçïËØçÔºâ‰∏≠ÈöèÊú∫ÈÄâÊã©‰∏Ä‰∏™
         */
        function drawWord() {
            if (!gameActive) return;
            
            console.log('Drawing word...');
            // ÂêàÂπ∂Âç°ÁâáÂçïËØçÂíåÈ¢ùÂ§ñÂçïËØç‰Ωú‰∏∫ÂΩìÂâçËΩÆÊ¨°ÁöÑÂçïËØçÊ±†
            const currentWordPool = [...selectedWords, ...additionalWords];
            // Ëé∑ÂèñÊú™‰ΩøÁî®ËøáÁöÑÂçïËØç
            const availableWords = currentWordPool.filter(word => !drawnWords.includes(word));
            
            if (availableWords.length === 0) {
                currentWordEl.textContent = "Keine W√∂rter mehr!";
                currentWordEl.removeAttribute('data-word');  // ÁßªÈô§data-wordÂ±ûÊÄß
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * availableWords.length);
            const word = availableWords[randomIndex];
            
            drawnWords.push(word);
            currentWordEl.textContent = word;
            currentWordEl.setAttribute('data-word', word);  // Ê∑ªÂä†data-wordÂ±ûÊÄß
            console.log('Drawn word:', word);
            
            // ‰ΩøÁî®ËØ≠Èü≥ÂêàÊàêËØªÂá∫ÂçïËØç
            speakWord(word);
        }
        
        /**
         * ‰ΩøÁî®ËØ≠Èü≥ÂêàÊàêËØªÂá∫ÂçïËØç
         * @param {string} word - Ë¶ÅËØªÂá∫ÁöÑÂçïËØç
         */
        function speakWord(word) {
            console.log('Speaking word:', word);
            // Á°Æ‰øùËØ≠Èü≥Â∑≤Âä†ËΩΩ
            if (voices.length === 0) {
                voices = synth.getVoices();
            }
            
            const utterance = new SpeechSynthesisUtterance(word);
            
            // Â∞ùËØï‰ΩøÁî®Âæ∑ËØ≠ËØ≠Èü≥
            const germanVoice = voices.find(voice => 
                voice.lang.startsWith('de') || voice.name.includes('German')
            );
            
            if (germanVoice) {
                console.log('Using German voice:', germanVoice.name);
                utterance.voice = germanVoice;
            } else {
                console.log('No German voice found, using default voice');
            }
            
            // ËÆæÁΩÆËØ≠Èü≥ÂèÇÊï∞
            utterance.pitch = 1;
            utterance.rate = 0.8;
            utterance.volume = 1;
            
            synth.speak(utterance);
        }
        
        /**
         * Ê£ÄÊü•ÊòØÂê¶Ëé∑ËÉú
         * ÂΩìÊâÄÊúâÂçïÂÖÉÊ†ºÈÉΩË¢´Ê†áËÆ∞Êó∂Ëß¶ÂèëËÉúÂà©
         */
        function checkWin() {
            const cells = document.querySelectorAll('.bingo-cell');
            const allMarked = [...cells].every(cell => cell.classList.contains('marked'));
            
            if (allMarked) {
                console.log('BINGO! Player has won!');
                winMessage.style.display = "block";
                gameActive = false;
                // Êí≠ÊîæËÉúÂà©Èü≥Êïà
                const winSound = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqPlJmfpqy0vMPK0dba3uPl6Onr7O3u7/Dx8vP09fb3+Pn6+/z9/v8AAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaW1xdXl9gYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXp7fH1+f4CBgoOEhYaHiImKi4yNjo+QkZKTlJWWl5iZmpucnZ6foKGio6SlpqeoqaqrrK2ur7CxsrO0tba3uLm6u7y9vr/AwcLDxMXGx8jJysvMzc7P0NHS09TV1tfY2drb3N3e3+Dh4uPk5ebn6Onq6+zt7u/w8fLz9PX29/j5+vv8/f7/');
                winSound.play().catch(e => console.log('Audio play failed:', e));
            }
        }
        
        // ‰∫ã‰ª∂ÁõëÂê¨Âô®ËÆæÁΩÆ
        console.log('Setting up event listeners...');
        drawBtn.addEventListener('click', () => {
            console.log('Draw button clicked');
            drawWord();
        });
        
        newCardBtn.addEventListener('click', () => {
            console.log('New card button clicked');
            initGame();
        });
        
        // ËØ≠Èü≥ÂàùÂßãÂåñ
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = () => {
                console.log('Voices loaded');
                voices = synth.getVoices();
            };
        }
        
        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂêØÂä®Ê∏∏Êàè
        console.log('Starting game...');
        window.addEventListener('load', initGame);

        // Âú®scriptÈÉ®ÂàÜÊ∑ªÂä†Ê®°ÊÄÅÊ°ÜÊéßÂà∂ÈÄªËæë
        const settingsBtn = document.getElementById('settings-btn');
        const instructionsModal = document.getElementById('instructions-modal');
        const closeModal = document.getElementById('close-modal');

        settingsBtn.addEventListener('click', () => {
            instructionsModal.style.display = 'flex';
        });

        closeModal.addEventListener('click', () => {
            instructionsModal.style.display = 'none';
        });

        // ÁÇπÂáªÊ®°ÊÄÅÊ°ÜÂ§ñÈÉ®ÂÖ≥Èó≠
        instructionsModal.addEventListener('click', (e) => {
            if (e.target === instructionsModal) {
                instructionsModal.style.display = 'none';
            }
        });

        // ÊåâESCÈîÆÂÖ≥Èó≠Ê®°ÊÄÅÊ°Ü
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && instructionsModal.style.display === 'flex') {
                instructionsModal.style.display = 'none';
            }
        });
    </script>
</body>
</html>